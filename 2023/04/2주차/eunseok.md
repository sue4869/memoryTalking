# 04.13

## JPA(ORM)를 사용하는 이유

### 자바 애플리케이션에서 SQL을 직접 다룰 때의 문제점

1. 진정한 의미의 계층 분할이 어렵다.
    - 데이터 접근 계층을 사용해서 SQL을 숨겨도, 실제 동작을 확인하기 위해서는 DAO를 열어서 실제 SQL의 내용을 확인해야 한다.
2. 엔티티를 신뢰하고 사용할 수 없다. (SQL 코드가 엔티티의 동작과 깊이 결합되어 있다.)
3. SQL에 의존적인 개발을 하게 된다.

### 패러다임의 불일치

- 복잡한 애플리케이션을 제어하기 위해 객체 지향 프로그래밍은 다양한 장치들(추상화, 캡슐화, 정보은닉, 상속, 다형성 등)을 사용한다. 
  한편, 관계형 데이터베이스는 데이터 중심으로 구조화되어 있고, 집합적인 사고를 요구하며, 객체지향에서 사용하는 개념들을 사용하지 않는다.

- 또한 연관 관계를 맺는 방법이 다른데, 객체는 참조를 통해서 연관 관계를 맺고, 관계형 데이터베이스는 외래키를 통해서 연관 관계를 맺는다.

- 이를 객체와 관계형 데이터베이스의 패러다임 불일치 문제라고 하며, 객체 애플리케이션이 더 정교한 객체 모델링을 할수록 더 많은 패러다임 불일치가 발생하게 된다.

- 객체 구조를 테이블 구조에 저장하기 위해서 개발자는 중간에서 변환 역할을 해야만 하며, 이로 인해 개발자는 너무 많은 시간과 코드를 소비하게 된다.

### ORM, JPA
- 패러다임 불일치 문제를 해결할 수 있는 방법이 등장했는데, 그것이 바로 ORM(Object-Relational Mapping)이다. ORM 프레임워크는 객체와 테이블을 매핑해서 패러다임의 불일치 문제를 개발자 대신 해결한다.

- JPA는 자바의 ORM 기술에 대한 API 표준 명세로, 이를 사용하기 위해서 JPA를 구현한 ORM 프레임워크를 선택해 사용할 수 있다. ex.Hibernate

### 참고

*책-자바 ORM 표준 JPA 프로그래밍, 김영한